rowSums(HW == F)
hwGrades$"交作業次數" <- rowSums(HW == F)
hwGrades
Grade <- hwGrades%>%
select(hw1,hw2,Exercise3)
hwGrades$"平均成績" <- rowSums(Grade,na.rm = T)/3
hwGrades
hwGrades[hwGrades$"學號" %in% classSurvey$"學號",]
hwGradesSubsample <- hwGrades[hwGrades$"學號" %in% classSurvey$"學號",]
isFemale <- classSurvey$"性別" == "女"
femaleID <- classSurvey$"學號"[isFemale]
hwGradesSubsample$"女性" <- hwGradesSubsample$"學號" %in% femaleID
mean(hwGradesSubsample$"平均成績"[hwGradesSubsample$女性 == F])
haveActivity <- hwGradesSubsample$"學號" %in% classSurvey$"學號"[Activity]
mean(hwGradesSubsample$"平均成績"[(hwGradesSubsample$"女性" == T & haveActivity == T)])
hwSubmit <- read_csv("https://raw.githubusercontent.com/tpemartin/github-data/master/hwSubmit.csv")
hwSubmit$Timestamp <- ymd_hms(hwSubmit$Timestamp,tz="Asia/Taipei")
hwSubmit$"學號" <- as.character(hwSubmit$"學號")
hwSubmit$"作業代碼" <- as.character(hwSubmit$"作業代碼")
hwSubmit
hwSubmit3 <- hwSubmit[hwSubmit$"作業代碼"=="Exercise3",]
hwSubmit3$"截止時差" <-difftime("2018-11-06 00:00:00",hwSubmit3$Timestamp,tz="Asia/Taipei",units="hours")
hwSubmit3
Female <- mean(hwSubmit3$"截止時差"[hwSubmit3$"女性" == T])
Male <- mean(hwSubmit3$"截止時差"[hwSubmit3$"女性" == F])
Female-Male
library(readr); library(dplyr); library(stringr); library(lubridate)
classSurvey <- read_csv("https://raw.githubusercontent.com/tpemartin/github-data/master/classSurvey.csv")
hwGrades <- read_csv("https://raw.githubusercontent.com/tpemartin/github-data/master/hwGrades.csv")
classSurvey$"性別" <- as.factor(classSurvey$"性別")
str_sub(hwGrades$"學號",2,4)
經一B學生 <- c("小花","小咪","小李")
飲料店工讀生 <- c("陳小明","小李")
飲料店工讀生 %in% 經一B學生
hwGrades$"學號" %in% classSurvey$"學號"
which(classSurvey$"學號" == "4104d245c7")
which(hwGrades$"學號" == "4104d245c7")
hwGrades[39,4]
B <- classSurvey$"性別" == "男"
G <- classSurvey$"性別" == "女"
BB <- table(B)
AB <- BB/60
Activity <- str_detect(classSurvey$"課外活動","團隊活動")
sum(Activity)
isFemale <- classSurvey$"性別" == "女"
subsample <- classSurvey[isFemale,]
GActivity <- str_detect(subsample$"課外活動","團隊活動")
table(GActivity)
AGA <- table(GActivity)/43
table(AGA)
aaa <- c("a","b",NA)
is.na(aaa)
HW <- hwGrades%>%
select(hw1,hw2,Exercise3)%>%
is.na()
rowSums(HW == F)
hwGrades$"交作業次數" <- rowSums(HW == F)
hwGrades
Grade <- hwGrades%>%
select(hw1,hw2,Exercise3)
hwGrades$"平均成績" <- rowSums(Grade,na.rm = T)/3
hwGrades
hwGrades[hwGrades$"學號" %in% classSurvey$"學號",]
hwGradesSubsample <- hwGrades[hwGrades$"學號" %in% classSurvey$"學號",]
isFemale <- classSurvey$"性別" == "女"
femaleID <- classSurvey$"學號"[isFemale]
hwGradesSubsample$"女性" <- hwGradesSubsample$"學號" %in% femaleID
mean(hwGradesSubsample$"平均成績"[hwGradesSubsample$女性 == F])
haveActivity <- hwGradesSubsample$"學號" %in% classSurvey$"學號"[Activity]
mean(hwGradesSubsample$"平均成績"[(hwGradesSubsample$"女性" == T & haveActivity == T)])
hwSubmit <- read_csv("https://raw.githubusercontent.com/tpemartin/github-data/master/hwSubmit.csv")
hwSubmit$Timestamp <- ymd_hms(hwSubmit$Timestamp,tz="Asia/Taipei")
hwSubmit$"學號" <- as.character(hwSubmit$"學號")
hwSubmit$"作業代碼" <- as.character(hwSubmit$"作業代碼")
hwSubmit
hwSubmit3 <- hwSubmit[hwSubmit$"作業代碼"=="Exercise3",]
hwSubmit3$"截止時差" <-difftime("2018-11-06 00:00:00",hwSubmit3$Timestamp,tz="Asia/Taipei",units="hours")
hwSubmit3
Female <- mean(hwSubmit3$"截止時差"[hwSubmit3$"女性" == T])
Male <- mean(hwSubmit3$"截止時差"[hwSubmit3$"女性" == F])
Female-Male
knitr::opts_chunk$set(echo = TRUE)
library(dplyr); library(stringr); library(lubridate); library(purrr)
library(readr)
transcriptData <- read_csv("https://raw.githubusercontent.com/tpemartin/github-data/master/transcript100_102.csv",
col_types = cols(
學期成績="n"
))
knitr::opts_chunk$set(echo = TRUE)
library(dplyr); library(stringr); library(lubridate); library(purrr)
library(readr)
transcriptData <- read_csv("https://raw.githubusercontent.com/tpemartin/github-data/master/transcript100_102.csv",
col_types = cols(
學期成績="n"
))
subsample$學期成績 >= 60 -> subsample$及格 # 1
subsample$學期成績 >= 60 -> subsample$及格 # 1
View(transcriptData)
subsample <- transcriptData[transcriptData$"學號" == edfeQ7fb8,]
subsample <- transcriptData[transcriptData$"學號" == edfeQ7fb8,]
library(readr)
transcriptData <- read_csv("https://raw.githubusercontent.com/tpemartin/github-data/master/transcript100_102.csv",
col_types = cols(
學期成績="n"
))
subsample <- transcriptData[transcriptData$"學號" == edfeQ7fb8,]
View(transcriptData)
subsample <- transcriptData[,transcriptData$"學號" == edfeQ7fb8]
subsample <- transcriptData[transcriptData$"學號" == edfeQ7fb8,]
subsample <- transcriptData[transcriptData$"學號" == edfeQ7fb8]
,```
subsample <- transcriptData[transcriptData$"學號" == edfeQ7fb8,]
transcriptData[transcriptData$"學號" == edfeQ7fb8,]
transcriptData[transcriptData$"學號" == edfeQ7fb8,]
transcriptData[transcriptData$"學號" == edfeQ7fb8,]
transcriptData[transcriptData$學號 == edfeQ7fb8,]
subsample <- transcriptData[transcriptData$學號 == edfeQ7fb8,]
knitr::opts_chunk$set(echo = TRUE)
library(readr); library(dplyr); library(stringr); library(lubridate)
libraryData <- read_csv("https://raw.githubusercontent.com/tpemartin/github-data/master/library100_102.csv")
library(readr)
libraryData <- read_csv("https://raw.githubusercontent.com/tpemartin/github-data/master/library100_102.csv")
View(libraryData)
levels(libraryData$"書籍館藏地")
libraryData$"書籍館藏地" <- as.factor(libraryData$"書籍館藏地")
levels(libraryData$"書籍館藏地")
libraryData$"書籍館藏地" <- as.factor(libraryData$"書籍館藏地")
storageLocations <- levels(libraryData$"書籍館藏地")
libraryData$"書籍館藏地" %>% as.factor() %>% levels()
libraryData$"書籍館藏地" %>% as.factor() %>% levels() -> storageLocations
libraryData$"書籍館藏地" %>% as.factor() %>% levels() -> storageLocations
libraryData$"書籍館藏地" %>% as.factor() %>% levels() -> storageLocations
i<-1
# 1
storageLocation_i <- storageLocations[i]
# 2
numericalIndexForSubsample<-which(libraryData$"書籍館藏地" == storageLocation_i)
subsample_i <- libraryData[numericalIndexForSubsample,]
# 3
borrowCount_i <- nrow(subsample_i)
# 1
storageLocation_i <- storageLocations[i]
# 1
storageLocation_i <- storageLocations[i]
# 2
numericalIndexForSubsample<-which(libraryData$"書籍館藏地" == storageLocation_i)
subsample_i <- libraryData[numericalIndexForSubsample,]
# 3
borrowCount_i <- nrow(subsample_i)
i <- 2
# 1
storageLocation_i <- storageLocations[i]
# 2
numericalIndexForSubsample<-which(libraryData$"書籍館藏地" == storageLocation_i)
subsample_i <- libraryData[numericalIndexForSubsample,]
# 3
borrowCount_i <- nrow(subsample_i)
storageLocations <-
levels(libraryData$"書籍館藏地")
storageLocations <-
levels(libraryData$"書籍館藏地")
storageLocations <-
levels(libraryData$"書籍館藏地")
levels(libraryData$"書籍館藏地")
libraryData$"書籍館藏地" <- as.factor(libraryData$"書籍館藏地")
storageLocations <-levels(libraryData$"書籍館藏地")
libraryData$"書籍館藏地" %>% as.factor() %>% levels() -> storageLocations
i <- 2
# 1
storageLocation_i <- storageLocations[i]
# 2
numericalIndexForSubsample<-which(libraryData$"書籍館藏地" == storageLocation_i)
subsample_i <- libraryData[numericalIndexForSubsample,]
# 3
borrowCount_i <- nrow(subsample_i)
i <- 3
# 1
storageLocation_i <- storageLocations[i]
# 2
numericalIndexForSubsample<-which(libraryData$"書籍館藏地" == storageLocation_i)
subsample_i <- libraryData[numericalIndexForSubsample,]
# 3
borrowCount_i <- nrow(subsample_i)
View(subsample_i)
# 0
allBorrowCount <- vector("numeric",18)
i<-1
# 1
storageLocation_i <- storageLocations[i]
# 2
numericalIndexForSubsample<-which(libraryData$書籍館藏地==storageLocation_i)
subsample_i <- libraryData[numericalIndexForSubsample,]
# 3
borrowCount_i <- nrow(subsample_i)
# 4
allBorrowCount[[i]]<-borrowCount_i
# 0
allBorrowCount <- vector("numeric",18)
i<-2
# 1
storageLocation_i <- storageLocations[i]
# 2
numericalIndexForSubsample<-which(libraryData$"書籍館藏地" == storageLocation_i)
subsample_i <- libraryData[numericalIndexForSubsample,]
# 3
borrowCount_i <- nrow(subsample_i)
# 4
allBorrowCount[[i]]<-borrowCount_i
# 0
allBorrowCount <- vector("numeric",18)
i<-1
# 1
storageLocation_i <- storageLocations[i]
# 2
numericalIndexForSubsample<-which(libraryData$"書籍館藏地" == storageLocation_i)
subsample_i <- libraryData[numericalIndexForSubsample,]
# 3
borrowCount_i <- nrow(subsample_i)
# 4
allBorrowCount[[i]]<-borrowCount_i
# 0
allBorrowCount <- vector("numeric",18)
# 0
allBorrowCount <- vector("numeric",18)
i<-1
# 1
storageLocation_i <- storageLocations[i]
# 2
numericalIndexForSubsample<-which(libraryData$"書籍館藏地" == storageLocation_i)
subsample_i <- libraryData[numericalIndexForSubsample,]
# 3
borrowCount_i <- nrow(subsample_i)
# 4
allBorrowCount[[i]]<-borrowCount_i
# 0
allBorrowCount <- vector("numeric",18)
i<-2
# 1
storageLocation_i <- storageLocations[i]
# 2
numericalIndexForSubsample<-which(libraryData$"書籍館藏地" == storageLocation_i)
subsample_i <- libraryData[numericalIndexForSubsample,]
# 3
borrowCount_i <- nrow(subsample_i)
# 4
allBorrowCount[[i]]<-borrowCount_i
allBorrowCount
# 0
allBorrowCount <- vector("numeric",18)
i<-1
# 1
storageLocation_i <- storageLocations[i]
# 2
numericalIndexForSubsample<-which(libraryData$"書籍館藏地" == storageLocation_i)
subsample_i <- libraryData[numericalIndexForSubsample,]
# 3
borrowCount_i <- nrow(subsample_i)
# 4
allBorrowCount[[i]]<-borrowCount_i
allBorrowCount
# 0
allBorrowCount <- vector("numeric",18)
i<-1
# 1
storageLocation_i <- storageLocations[i]
# 2
numericalIndexForSubsample<-which(libraryData$"書籍館藏地" == storageLocation_i)
subsample_i <- libraryData[numericalIndexForSubsample,]
# 3
borrowCount_i <- nrow(subsample_i)
# 4
allBorrowCount[[i]]<-borrowCount_i
i<-2
# 1
storageLocation_i <- storageLocations[i]
# 2
numericalIndexForSubsample<-which(libraryData$"書籍館藏地" == storageLocation_i)
subsample_i <- libraryData[numericalIndexForSubsample,]
# 3
borrowCount_i <- nrow(subsample_i)
# 4
allBorrowCount[[i]]<-borrowCount_i
i<-3
# 1
storageLocation_i <- storageLocations[i]
# 2
numericalIndexForSubsample<-which(libraryData$"書籍館藏地" == storageLocation_i)
subsample_i <- libraryData[numericalIndexForSubsample,]
# 3
borrowCount_i <- nrow(subsample_i)
# 4
allBorrowCount[[i]]<-borrowCount_i
# 0
allBorrowCount <- vector("numeric",18)
for(i in c(1:18)){
# 1
storageLocation_i <- storageLocations[i]
# 2
numericalIndexForSubsample<-which(libraryData$書籍館藏地==storageLocation_i)
subsample_i <- libraryData[numericalIndexForSubsample,]
# 3
borrowCount_i <- nrow(subsample_i)
# 4
allBorrowCount[[i]]<-borrowCount_i
}
allBorrowCount
College <- libraryData$"學院" %>% as.factor() %>% levels()
CollegeBorrow <- libraryData$"學院" %>% as.factor() %>% levels()
CollegeBorrow <- libraryData$"學院" %>% as.factor() %>% levels()
allCollegeBorrowCount <- vector("numeric",6)
i <- 1
CollegeBorrow_i <- CollegeBorrow[i]
CollegeBorrowSubsample <- which(libraryData$"學院" == CollegeBorrow_i)
CollegeBorrowSubsample_i <- libraryData[CollegeBorrowSubsample,]
CollegeBorrowCount_i <- nrow(CollegeBorrowSubsample_i)
allCollegeBorrowCount[[i]] <- CollegeBorrowCount_i
CollegeBorrow <- libraryData$"學院" %>% as.factor() %>% levels()
allCollegeBorrowCount <- vector("numeric",6)
i <- 2
CollegeBorrow_i <- CollegeBorrow[i]
CollegeBorrowSubsample <- which(libraryData$"學院" == CollegeBorrow_i)
CollegeBorrowSubsample_i <- libraryData[CollegeBorrowSubsample,]
CollegeBorrowCount_i <- nrow(CollegeBorrowSubsample_i)
allCollegeBorrowCount[[i]] <- CollegeBorrowCount_i
CollegeBorrow <- libraryData$"學院" %>% as.factor() %>% levels()
allCollegeBorrowCount <- vector("numeric",6)
for (i in c(1:6)) {
CollegeBorrow_i <- CollegeBorrow[i]
CollegeBorrowSubsample <- which(libraryData$"學院" == CollegeBorrow_i)
CollegeBorrowSubsample_i <- libraryData[CollegeBorrowSubsample,]
CollegeBorrowCount_i <- nrow(CollegeBorrowSubsample_i)
allCollegeBorrowCount[[i]] <- CollegeBorrowCount_i
}
CollegeBorrow <- libraryData$"學院" %>% as.factor() %>% levels()
allCollegeBorrowCount <- vector("numeric",6)
for (i in c(1:6)) {
CollegeBorrow_i <- CollegeBorrow[i]
CollegeBorrowSubsample <- which(libraryData$"學院" == CollegeBorrow_i)
CollegeBorrowSubsample_i <- libraryData[CollegeBorrowSubsample,]
CollegeBorrowCount_i <- nrow(CollegeBorrowSubsample_i)
allCollegeBorrowCount[[i]] <- CollegeBorrowCount_i
}
CollegeBorrow <- libraryData$"學院" %>% as.factor() %>% levels()
allCollegeBorrowCount <- vector("numeric",6)
for (i in c(1:6)) {
CollegeBorrow_i <- CollegeBorrow[i]
CollegeBorrowSubsample <- which(libraryData$"學院" == CollegeBorrow_i)
CollegeBorrowSubsample_i <- libraryData[CollegeBorrowSubsample,]
CollegeBorrowCount_i <- nrow(CollegeBorrowSubsample_i)
allCollegeBorrowCount[[i]] <- CollegeBorrowCount_i
}
#從原資料中找出有幾個屬於該學院
CollegeBorrowSubsample <- which(libraryData$"學院" == CollegeBorrow_i)
#先看有幾個學院
CollegeBorrow <- libraryData$"學院" %>% as.factor() %>% levels()
#設定vector有幾個(i)
allCollegeBorrowCount <- vector("numeric",6)
#計算
for (i in c(1:6)) {
#找出一個要計算的學院
CollegeBorrow_i <- CollegeBorrow[i]
#從原資料中找出有幾個屬於該學院
CollegeBorrowSubsample <- which(libraryData$"學院" == CollegeBorrow_i)
#將上面的資料取出
CollegeBorrowSubsample_i <- libraryData[CollegeBorrowSubsample,]
#算出該學院借書量
CollegeBorrowCount_i <- nrow(CollegeBorrowSubsample_i)
#儲存至每個學院資料
allCollegeBorrowCount[[i]] <- CollegeBorrowCount_i
}
StudentBorrow <- libraryData$"學號" %>% as.factor() %>% levels()
StudentBorrow <- libraryData$"學號" %>% as.factor() %>% levels()
allStudentBorrowCount <- vector("numeric",length(StudentBorrow))
for (i in c(1:length(StudentBorrow))) {
StudentBorrow_i <- StudentBorrow[i]
StudentBorrowSubsample <- which(libraryData$"學號" == StudentBorrow_i)
StudentBorrowSubsample_i <- libraryData[StudentBorrowSubsample,]
StudentBorrowCount_i <- nrow(StudentBorrowSubsample_i)
allStudentBorrowCount[[i]] <- StudentBorrowCount_i
}
allStudentBorrowCount
StudentBorrow <- libraryData$"學號" %>% as.factor() %>% levels()
allStudentBorrowCount <- vector("numeric",length(StudentBorrow))
for (i in c(1:length(StudentBorrow))) {
StudentBorrow_i <- StudentBorrow[i]
StudentBorrowSubsample <- which(libraryData$"學號" == StudentBorrow_i)
StudentBorrowSubsample_i <- libraryData[StudentBorrowSubsample,]
StudentBorrowCount_i <- nrow(StudentBorrowSubsample_i)
allStudentBorrowCount[[i]] <- StudentBorrowCount_i
}
max(allStudentBorrowCount)
levels(allStudentBorrowCount)
ans<-0
for(i in 1:10){
newlyAdded<-i
ans<-ans+newlyAdded
}
libraryData %>%
group_by(書籍館藏地) %>%
summarise(
borrowCount=length(學號)
) -> result
result
# 0
allBorrowCount <- vector("numeric",18)
for(i in c(1:18)){
# 1
storageLocation_i <- storageLocations[i]
# 2
numericalIndexForSubsample<-which(libraryData$書籍館藏地==storageLocation_i)
subsample_i <- libraryData[numericalIndexForSubsample,]
# 3
borrowCount_i <- length(subsample_i$學號)
# 4
allBorrowCount[[i]]<-borrowCount_i
}
libraryData %>%
group_by(學院,入學年) %>%
summarise(
borrowCount=length(學號)
) -> result2
result2
#0 container
Borrow <- libraryData$"學院" %>% unique()*libraryData$"入學年" %>% unique()
#0 container
a <- libraryData$"學院" %>% unique()
b <- libraryData$"入學年" %>% unique()
CollegeEntranceYearBorrow <- a*b
CollegeEntranceYearBorrow <- a*b
#0 container
a <- length(libraryData$"學院" %>% unique())
b <- length(libraryData$"入學年" %>% unique())
CollegeEntranceYearBorrow <- a*b
#0 container
a <- length(libraryData$"學院" %>% unique())
b <- length(libraryData$"入學年" %>% unique())
CollegeEntranceYearBorrow <- a*b
for (i in seq_along(College)) {
for (j in seq_along(EntranceYear)) {
#1
#2
#3
#4
}
}
libraryData$"借閱時間" <- ymd_hms(libraryData$"借閱時間",tz = "Asia/Taipei")
libraryData %>%
group_by(學院,入學年) %>%
summarise(
borrowCount=length(學號)
) %>%
ungroup -> result2
result2
libraryData %>%
group_by(書籍館藏地) %>%
#分好18個
summarise(
borrowCount=length(學號)
) %>%
ungroup -> result
result
libraryData$"借閱時間" <- ymd_hms(libraryData$"借閱時間",tz = "Asia/Taipei")
libraryData %>%
group_by(學號) %>%
summarise(
第一筆借閱時間=min(借閱時間)
)
libraryData$"借閱時間" <- ymd_hms(libraryData$"借閱時間",tz = "Asia/Taipei")
libraryData %>%
group_by(學號) %>%
summarise(
第一筆借閱時間=min(借閱時間)
) %>%
ungroup -> result3
result3
libraryData$"借閱時間" <- ymd_hms(libraryData$"借閱時間",tz = "Asia/Taipei")
libraryData %>%
mutate(
借閱時間 = ymd_hms(借閱時間,tz="Asia/Taipei")
)
group_by(學號) %>%
summarise(
第一筆借閱時間=min(借閱時間)
) %>%
ungroup -> result3
libraryData$"借閱時間" <- ymd_hms(libraryData$"借閱時間",tz = "Asia/Taipei")
libraryData %>%
group_by(學號) %>%
summarise(
第一筆借閱時間=min(借閱時間)
) %>%
ungroup -> result3
result3
libraryData %>%
mutate(
借閱時間 = ymd_hms(借閱時間,tz="Asia/Taipei")
)
group_by(學號) %>%
summarise(
第一筆借閱時間=min(借閱時間)
) %>%
ungroup -> result3
libraryData %>%
mutate(
借閱時間 = ymd_hms(借閱時間,tz="Asia/Taipei")
) %>%
group_by(學號) %>%
summarise(
第一筆借閱時間=min(借閱時間)
) %>%
ungroup -> result3
result3
